{"ast":null,"code":"var _jsxFileName = \"D:\\\\web\\\\textin-app\\\\src\\\\components\\\\rightComponent.js\";\nimport React, { Component } from \"react\";\nimport { UserContext } from '../contexts/userContext';\nimport ReceiveMessage from \"./chatComponents/receivemessage\";\nimport SendMessage from './chatComponents/sendmessage';\nimport axios from 'axios';\n\nvar FontAwesome = require('react-fontawesome');\n\nrequire(\"dotenv\").config();\n\nclass RightComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.formatDisplay = msg => {\n      var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n      var days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n      var msg_sent = new Date(msg.sentTime);\n      var t_now = new Date();\n      let month = months[msg_sent.getMonth()].slice(0, 3);\n      let day = days[msg_sent.getDay()].slice(0, 3);\n      let date = msg_sent.getDate();\n\n      if (msg_sent.getFullYear() === t_now.getFullYear()) {\n        if (msg_sent.getMonth() === t_now.getMonth()) {\n          if (msg_sent.getDate() === t_now.getDate()) {\n            return \"Today\";\n          }\n\n          if (t_now.getDate() - msg_sent.getDate() === 1) return \"Yesterday\";\n          if (t_now.getDate() - msg_sent.getDate() <= 7) return days[msg_sent.getDay()];else {\n            return day + \",\" + date + \" \" + month;\n          }\n        } else {\n          return day + \",\" + date + \" \" + month;\n        }\n      } else {\n        return day + \",\" + date + \" \" + month + \",\" + msg_sent.getFullYear().toString().slice(-2);\n      }\n    };\n\n    this.handleCountDown = i => {\n      const {\n        arrPos,\n        arrId\n      } = this.context;\n      const uparrow = document.getElementById(\"up-arrow\");\n      const downarrow = document.getElementById(\"down-arrow\");\n\n      if (i === arrId.length - 1) {\n        downarrow.style.opacity = \"0.25\";\n        downarrow.style.pointerEvents = \"none\";\n        uparrow.style.opacity = \"1\";\n        uparrow.style.pointerEvents = \"auto\";\n      } else if (i === 0) {\n        uparrow.style.opacity = \"0.25\";\n        uparrow.style.pointerEvents = \"none\";\n        downarrow.style.opacity = \"1\";\n        downarrow.style.pointerEvents = \"auto\";\n      } else {\n        uparrow.style.opacity = \"1\";\n        uparrow.style.pointerEvents = \"auto\";\n        downarrow.style.opacity = \"1\";\n        downarrow.style.pointerEvents = \"auto\";\n      }\n\n      const container = document.getElementById('searchChatScroll');\n      const t = container.querySelectorAll(\".search-message\");\n\n      if (i >= 1) {\n        t[arrPos[i - 1]].style.backgroundColor = \"transparent\";\n        t[arrPos[i]].style.backgroundColor = \"#f4f6ff17\";\n        container.scrollTop = t[arrPos[i]].offsetTop - container.offsetTop - container.clientHeight / 2;\n      } else {\n        t[arrPos[i]].style.backgroundColor = \"#f4f6ff17\";\n        container.scrollTop = t[arrPos[i]].offsetTop - container.offsetTop - container.clientHeight / 2;\n      }\n    };\n\n    this.handleCountUp = i => {\n      const {\n        arrPos,\n        arrId\n      } = this.context;\n      const uparrow = document.getElementById(\"up-arrow\");\n      const downarrow = document.getElementById(\"down-arrow\");\n\n      if (i === arrId.length - 1) {\n        downarrow.style.opacity = \"0.25\";\n        downarrow.style.pointerEvents = \"none\";\n        uparrow.style.opacity = \"1\";\n        uparrow.style.pointerEvents = \"auto\";\n      } else if (i === 0) {\n        uparrow.style.opacity = \"0.25\";\n        uparrow.style.pointerEvents = \"none\";\n        downarrow.style.opacity = \"1\";\n        downarrow.style.pointerEvents = \"auto\";\n      } else {\n        uparrow.style.opacity = \"1\";\n        uparrow.style.pointerEvents = \"auto\";\n        downarrow.style.opacity = \"1\";\n        downarrow.style.pointerEvents = \"auto\";\n      }\n\n      const container = document.getElementById('searchChatScroll');\n      const t = container.querySelectorAll(\".search-message\");\n\n      if (i === arrId.length - 1) {\n        t[arrPos[i]].style.backgroundColor = \"#f4f6ff17\";\n        container.scrollTop = t[arrPos[i]].offsetTop - container.offsetTop - container.clientHeight / 2;\n      } else {\n        t[arrPos[i + 1]].style.backgroundColor = \"transparent\";\n        t[arrPos[i]].style.backgroundColor = \"#f4f6ff17\";\n        container.scrollTop = t[arrPos[i]].offsetTop - container.offsetTop - container.clientHeight / 2;\n      }\n    };\n\n    this.handleSubmit = () => {\n      const {\n        receiver,\n        id,\n        word,\n        updateRes,\n        updateData,\n        withDate,\n        start,\n        end\n      } = this.context;\n      updateRes({\n        arrId: [],\n        arrMsg: [],\n        arrPos: []\n      });\n\n      if (!withDate) {\n        axios.get(process.env.REACT_APP_BACKEND_URL + `api/getWord/${id}/${receiver._id}/${word.trim()}`).then(res => {\n          this.i = 0;\n\n          const hightlight = str => {\n            var resdata = str.split(\" \");\n            var cmp = word.trim().split(\" \");\n            var reStr = [];\n\n            for (let i = 0; i < resdata.length; i++) {\n              for (let k = 0; k < cmp.length; k++) {\n                if (resdata[i].length === cmp[k].length) {\n                  let flag = true;\n\n                  for (let j = 0; j < cmp[k].length; j++) {\n                    if (resdata[i].charAt(j).toLowerCase() !== cmp[k].charAt(j).toLowerCase()) {\n                      flag = false;\n                    }\n                  }\n\n                  if (flag) {\n                    let temp1 = `<span class=\"hightcolor-search\">${resdata[i]}</span>`;\n                    reStr.push({\n                      str: temp1,\n                      index: i\n                    });\n                  }\n                } else if (resdata[i].length > cmp[k].length) {\n                  let gflag = true;\n\n                  for (let p = cmp[k].length - 1; p >= 0; p--) {\n                    if (resdata[i].charAt(p).toLowerCase() !== cmp[k].charAt(p).toLowerCase()) gflag = false;\n                  }\n\n                  if (gflag) {\n                    let temp2 = resdata[i].slice(0, cmp[k].length);\n                    let temp3 = `<span class=\"hightcolor-search\">${temp2}</span>` + resdata[i].slice(cmp[k].length, resdata[i].length);\n                    reStr.push({\n                      str: temp3,\n                      index: i\n                    });\n                  }\n                }\n              }\n            }\n\n            if (reStr.length) {\n              for (let i = 0; i < reStr.length; i++) {\n                resdata[reStr[i].index] = reStr[i].str;\n              }\n\n              return resdata.join(\" \");\n            }\n\n            return str;\n          };\n\n          if (res.data.status === \"success\") {\n            updateData(false);\n            updateRes(res.data);\n\n            for (var j = 0; j < res.data.arrId.length; j++) document.getElementById(`${res.data.arrId[j]}`).innerHTML = hightlight(document.getElementById(`${res.data.arrId[j]}`).textContent);\n\n            const uparrow = document.getElementById(\"up-arrow\");\n            const downarrow = document.getElementById(\"down-arrow\");\n\n            if (uparrow && downarrow) {\n              uparrow.style.opacity = \"0.5\";\n              uparrow.style.pointerEvents = \"none\";\n              downarrow.style.opacity = \"1\";\n              downarrow.style.pointerEvents = \"auto\";\n            }\n\n            const container = document.getElementById('searchChatScroll');\n\n            if (container) {\n              const t = container.querySelectorAll(\".search-message\");\n\n              if (t) {\n                t[res.data.arrPos[0]].style.backgroundColor = \"#f4f6ff17\";\n                container.scrollTop = t[res.data.arrPos[0]].offsetTop - container.offsetTop - container.clientHeight / 2;\n              }\n            }\n          } else {\n            this.i = 0;\n            updateRes({\n              arrId: [],\n              arrMsg: [],\n              arrPos: []\n            });\n            updateData(true);\n          }\n\n          if (res.data.arrId.length === 0) {\n            updateData(true);\n          } else {\n            updateData(false);\n          }\n        });\n      } else {\n        axios.get(process.env.REACT_APP_BACKEND_URL + `api/getWord/${id}/${receiver._id}/${word}/${start}/${end}`).then(res => {\n          this.i = 0;\n\n          const hightlight = str => {\n            var resdata = str.split(\" \");\n            var cmp = word.trim().split(\" \");\n            var reStr = [];\n\n            for (let i = 0; i < resdata.length; i++) {\n              for (let k = 0; k < cmp.length; k++) {\n                if (resdata[i].length === cmp[k].length) {\n                  let flag = true;\n\n                  for (let j = 0; j < cmp[k].length; j++) {\n                    if (resdata[i].charAt(j).toLowerCase() !== cmp[k].charAt(j).toLowerCase()) {\n                      flag = false;\n                    }\n                  }\n\n                  if (flag) {\n                    let temp1 = `<span class=\"hightcolor-search\">${resdata[i]}</span>`;\n                    reStr.push({\n                      str: temp1,\n                      index: i\n                    });\n                  }\n                } else if (resdata[i].length > cmp[k].length) {\n                  let gflag = true;\n\n                  for (let p = cmp[k].length - 1; p >= 0; p--) {\n                    if (resdata[i].charAt(p).toLowerCase() !== cmp[k].charAt(p).toLowerCase()) gflag = false;\n                  }\n\n                  if (gflag) {\n                    let temp2 = resdata[i].slice(0, cmp[k].length);\n                    let temp3 = `<span class=\"hightcolor-search\">${temp2}</span>` + resdata[i].slice(cmp[k].length, resdata[i].length);\n                    reStr.push({\n                      str: temp3,\n                      index: i\n                    });\n                  }\n                }\n              }\n            }\n\n            if (reStr.length) {\n              for (let i = 0; i < reStr.length; i++) {\n                resdata[reStr[i].index] = reStr[i].str;\n              }\n\n              return resdata.join(\" \");\n            }\n\n            return str;\n          };\n\n          if (res.data.status === \"success\") {\n            updateData(false);\n            updateRes(res.data);\n\n            for (var j = 0; j < res.data.arrId.length; j++) document.getElementById(`${res.data.arrId[j]}`).innerHTML = hightlight(document.getElementById(`${res.data.arrId[j]}`).textContent);\n\n            const uparrow = document.getElementById(\"up-arrow\");\n            const downarrow = document.getElementById(\"down-arrow\");\n\n            if (uparrow && downarrow) {\n              uparrow.style.opacity = \"0.5\";\n              uparrow.style.pointerEvents = \"none\";\n              downarrow.style.opacity = \"1\";\n              downarrow.style.pointerEvents = \"auto\";\n            }\n\n            const container = document.getElementById('searchChatScroll');\n\n            if (container) {\n              const t = container.querySelectorAll(\".search-message\");\n\n              if (t) {\n                t[res.data.arrPos[0]].style.backgroundColor = \"#f4f6ff17\";\n                container.scrollTop = t[res.data.arrPos[0]].offsetTop - container.offsetTop - container.clientHeight / 2;\n              }\n            }\n          } else {\n            this.i = 0;\n            updateRes({\n              arrId: [],\n              arrMsg: [],\n              arrPos: []\n            });\n            updateData(true);\n          }\n\n          if (res.data.arrId.length === 0) {\n            updateData(true);\n          } else {\n            updateData(false);\n          }\n        });\n      }\n    };\n\n    this.handleScroll = () => {\n      this.setState({\n        flagdate: true\n      });\n      const container = document.getElementById(\"searchChatScroll\");\n      let t = container.querySelectorAll(\".date-main\");\n\n      for (let i = 0; i < t.length; i++) {\n        if (t[i].offsetTop - 120 < container.scrollTop) {\n          this.setState({\n            date: t[i].textContent\n          });\n        }\n      }\n\n      document.querySelector(\".date-right\").style.display = \"table\";\n\n      if (container.scrollHeight - container.scrollTop === container.offsetHeight) {\n        document.querySelector(\".date-right\").style.display = \"none\";\n      }\n\n      if (0 === container.scrollTop) {\n        document.querySelector(\".date-right\").style.display = \"none\";\n      }\n    };\n\n    this.backtomiddle = () => {\n      document.querySelector(\".middleHome\").style.display = \"flex\";\n      document.querySelector(\".rightHome\").style.display = \"none\";\n    };\n\n    this.formatMaindate = (msg, lastMsg) => {\n      var msg_sent = new Date(msg.sentTime);\n\n      if (lastMsg == null) {\n        return true;\n      } else {\n        let lastmsg = new Date(lastMsg.sentTime);\n\n        if (lastmsg.getFullYear() === msg_sent.getFullYear() && lastmsg.getMonth() === msg_sent.getMonth() && lastmsg.getDate() === msg_sent.getDate()) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n    };\n\n    this.state = {\n      lastmsg: null,\n      i: 0,\n      data: true,\n      date: \"\",\n      flagdate: false\n    };\n    this.cancel = '';\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  render() {\n    var lastmsg = 'null';\n    const {\n      receiver,\n      updateRight,\n      word,\n      handleDate,\n      arrMsg,\n      arrId,\n      tog,\n      updateTog,\n      withDate,\n      data,\n      updateDate\n    } = this.context;\n\n    if (tog) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"rightHome\",\n        id: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"rc-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"back-button-right\",\n        id: \"back-button-right\",\n        onClick: this.backtomiddle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesome, {\n        name: \"backward\",\n        className: \"BackwardIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 116\n        }\n      }), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"contact-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: receiver.path,\n        alt: \"aaa\",\n        className: \"rc-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 24\n        }\n      }), /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"contact-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 25\n        }\n      }, receiver.username), receiver.status && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"contact-status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 45\n        }\n      }, receiver.status), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: updateTog,\n        className: \"chat-search-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 81\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesome, {\n        name: \"search\",\n        className: \"searchIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 87\n        }\n      }), \"  \"), \"Chat Search\")));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"rightHome\",\n        id: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"search-bar-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"closeButton\",\n        onClick: updateTog,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 21\n        }\n      }, \"  \", /*#__PURE__*/React.createElement(FontAwesome, {\n        name: \"close\",\n        className: \"closeIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 75\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"rc-header header-search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"rc-searchBar\",\n        name: \"word\",\n        value: word,\n        onChange: e => {\n          updateRight(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"searchbutton-rc\",\n        onClick: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesome, {\n        name: \"search\",\n        className: \"searchIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 107\n        }\n      }), \" \")), /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          display: 'flex',\n          color: \"pink\",\n          fontSize: \"1.2em\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 25\n        }\n      }, \"Date Search \", /*#__PURE__*/React.createElement(\"input\", {\n        style: {\n          margin: \"0.3em\"\n        },\n        type: \"checkbox\",\n        onClick: updateDate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 96\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"date-picker-section\",\n        style: {\n          visibility: withDate ? 'visible' : \"hidden\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"date\",\n        className: \"date-picker\",\n        name: \"start\",\n        onChange: e => handleDate(e.target.name, e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"date\",\n        className: \"date-picker\",\n        name: \"end\",\n        onChange: e => handleDate(e.target.name, e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 29\n        }\n      }))), arrMsg.length ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chatScroll\",\n        id: \"searchChatScroll\",\n        onScroll: this.handleScroll,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 38\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"outer-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 25\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"p\", {\n        className: \"date-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 53\n        }\n      }, this.state.date), \" \"), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"list-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 25\n        }\n      }, arrMsg.map(m => {\n        if (m.receiverId === receiver._id) {\n          if (this.formatMaindate(m, lastmsg)) {\n            lastmsg = m;\n            return /*#__PURE__*/React.createElement(\"li\", {\n              key: m.id,\n              id: \"sendTop\",\n              className: \"search-message\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 49\n              }\n            }, /*#__PURE__*/React.createElement(\"p\", {\n              className: \"date-main\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 53\n              }\n            }, this.formatDisplay(m)), /*#__PURE__*/React.createElement(SendMessage, {\n              msgBody: m.msgBody,\n              msgid: m.id,\n              sentTime: m.sentTime,\n              status: {\n                sent: m.sent,\n                delivered: m.delivered,\n                seen: m.seen\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 53\n              }\n            }));\n          } else {\n            lastmsg = m;\n            return /*#__PURE__*/React.createElement(\"li\", {\n              key: m.id,\n              id: \"send\",\n              className: \"search-message\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 49\n              }\n            }, /*#__PURE__*/React.createElement(SendMessage, {\n              msgBody: m.msgBody,\n              msgid: m.id,\n              sentTime: m.sentTime,\n              status: {\n                sent: m.sent,\n                delivered: m.delivered,\n                seen: m.seen\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 53\n              }\n            }));\n          }\n        }\n\n        if (m.senderId === receiver._id) {\n          if (this.formatMaindate(m, lastmsg)) {\n            lastmsg = m;\n            return /*#__PURE__*/React.createElement(\"li\", {\n              key: m.id,\n              id: \"receiveTop\",\n              className: \"search-message\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 49\n              }\n            }, /*#__PURE__*/React.createElement(\"p\", {\n              className: \"date-main\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 53\n              }\n            }, this.formatDisplay(m)), /*#__PURE__*/React.createElement(ReceiveMessage, {\n              msgBody: m.msgBody,\n              msgid: m.id,\n              sentTime: m.sentTime,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 53\n              }\n            }));\n          } else {\n            lastmsg = m;\n            return /*#__PURE__*/React.createElement(\"li\", {\n              key: m.id,\n              id: \"receive\",\n              className: \"search-message\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 53\n              }\n            }, /*#__PURE__*/React.createElement(ReceiveMessage, {\n              msgBody: m.msgBody,\n              msgid: m.id,\n              sentTime: m.sentTime,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 49\n              }\n            }));\n          }\n        }\n\n        return null;\n      }))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 29\n        }\n      }, \" \", word.length ? data ? `\"${word}\" not found` : '' : \"Search\"), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"img-search\",\n        alt: \"#\",\n        src: \"./images/search--v2.png\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 29\n        }\n      })), arrId.length > 1 ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"arrows\",\n        id: \"down-arrow\",\n        onClick: e => {\n          if (arrId !== []) {\n            if (this.i <= arrId.length - 1) {\n              this.i = this.i + 1;\n              this.handleCountDown(this.i);\n            }\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"images/down-arrow-sea.png\",\n        alt: \"#\",\n        className: \"downarrow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 28\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-no-messages \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 25\n        }\n      }, arrId.length, \" matches\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"arrows\",\n        id: \"up-arrow\",\n        onClick: e => {\n          if (arrId !== []) {\n            if (this.i > 0) {\n              this.i = this.i - 1;\n              this.handleCountUp(this.i);\n            }\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"images/up-arrow.png\",\n        alt: \"#\",\n        className: \"uparrow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 28\n        }\n      }))) : /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 30\n        }\n      }));\n    }\n  }\n\n}\n\nRightComponent.contextType = UserContext;\nexport default RightComponent;","map":{"version":3,"sources":["D:/web/textin-app/src/components/rightComponent.js"],"names":["React","Component","UserContext","ReceiveMessage","SendMessage","axios","FontAwesome","require","config","RightComponent","constructor","props","formatDisplay","msg","months","days","msg_sent","Date","sentTime","t_now","month","getMonth","slice","day","getDay","date","getDate","getFullYear","toString","handleCountDown","i","arrPos","arrId","context","uparrow","document","getElementById","downarrow","length","style","opacity","pointerEvents","container","t","querySelectorAll","backgroundColor","scrollTop","offsetTop","clientHeight","handleCountUp","handleSubmit","receiver","id","word","updateRes","updateData","withDate","start","end","arrMsg","get","process","env","REACT_APP_BACKEND_URL","_id","trim","then","res","hightlight","str","resdata","split","cmp","reStr","k","flag","j","charAt","toLowerCase","temp1","push","index","gflag","p","temp2","temp3","join","data","status","innerHTML","textContent","handleScroll","setState","flagdate","querySelector","display","scrollHeight","offsetHeight","backtomiddle","formatMaindate","lastMsg","lastmsg","state","cancel","bind","render","updateRight","handleDate","tog","updateTog","updateDate","path","username","e","color","fontSize","margin","visibility","target","name","value","map","m","receiverId","msgBody","sent","delivered","seen","senderId","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { UserContext } from '../contexts/userContext'\nimport ReceiveMessage from \"./chatComponents/receivemessage\"\nimport SendMessage from './chatComponents/sendmessage';\nimport axios from 'axios';\nvar FontAwesome = require('react-fontawesome');\nrequire(\"dotenv\").config();\n\n\n\nclass RightComponent extends Component {\n    static contextType = UserContext;\n    constructor(props) {\n        super(props);\n        this.state = {\n\n            lastmsg: null,\n\n            i: 0,\n\n            data: true,\n            date: \"\",\n            flagdate: false\n\n\n        };\n        this.cancel = '';\n\n\n        this.handleScroll = this.handleScroll.bind(this);\n\n\n\n    }\n\n  \n\n\n    formatDisplay = (msg) => {\n        var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n        var days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n        var msg_sent = new Date(msg.sentTime)\n\n        var t_now = new Date()\n        let month = months[msg_sent.getMonth()].slice(0, 3)\n        let day = days[msg_sent.getDay()].slice(0, 3)\n        let date = msg_sent.getDate()\n\n        if (msg_sent.getFullYear() === t_now.getFullYear()) {\n            if (msg_sent.getMonth() === t_now.getMonth()) {\n                if (msg_sent.getDate() === t_now.getDate()) {\n                    return \"Today\"\n                }\n                if (t_now.getDate() - msg_sent.getDate() === 1)\n                    return \"Yesterday\"\n                if (t_now.getDate() - msg_sent.getDate() <= 7)\n                    return days[msg_sent.getDay()]\n                else {\n\n\n                    return day + \",\" + date + \" \" + month\n                }\n            }\n            else {\n                return day + \",\" + date + \" \" + month\n            }\n        }\n        else {\n            return day + \",\" + date + \" \" + month + \",\" + msg_sent.getFullYear().toString().slice(-2);\n        }\n    }\n\n\n    handleCountDown = (i) => {\n\n        const { arrPos, arrId } = this.context;\n\n        const uparrow = document.getElementById(\"up-arrow\");\n        const downarrow = document.getElementById(\"down-arrow\");\n        if (i === arrId.length - 1) {\n            downarrow.style.opacity = \"0.25\";\n            downarrow.style.pointerEvents = \"none\";\n            uparrow.style.opacity = \"1\";\n            uparrow.style.pointerEvents = \"auto\";\n        }\n        else if (i === 0) {\n            uparrow.style.opacity = \"0.25\";\n            uparrow.style.pointerEvents = \"none\";\n            downarrow.style.opacity = \"1\";\n            downarrow.style.pointerEvents = \"auto\";\n        }\n        else {\n            uparrow.style.opacity = \"1\";\n            uparrow.style.pointerEvents = \"auto\";\n            downarrow.style.opacity = \"1\";\n            downarrow.style.pointerEvents = \"auto\";\n        }\n\n\n\n\n        const container = document.getElementById('searchChatScroll')\n        const t = container.querySelectorAll(\".search-message\")\n        if (i >= 1) {\n            t[arrPos[i - 1]].style.backgroundColor = \"transparent\";\n            t[arrPos[i]].style.backgroundColor = \"#f4f6ff17\"\n            container.scrollTop = t[arrPos[i]].offsetTop - container.offsetTop - container.clientHeight / 2;\n        }\n        else {\n            t[arrPos[i]].style.backgroundColor = \"#f4f6ff17\"\n            container.scrollTop = t[arrPos[i]].offsetTop - container.offsetTop - container.clientHeight / 2;\n        }\n\n\n    }\n    handleCountUp = (i) => {\n        const { arrPos, arrId } = this.context;\n        const uparrow = document.getElementById(\"up-arrow\");\n        const downarrow = document.getElementById(\"down-arrow\");\n        if (i === arrId.length - 1) {\n            downarrow.style.opacity = \"0.25\";\n            downarrow.style.pointerEvents = \"none\";\n            uparrow.style.opacity = \"1\";\n            uparrow.style.pointerEvents = \"auto\";\n        }\n        else if (i === 0) {\n            uparrow.style.opacity = \"0.25\";\n            uparrow.style.pointerEvents = \"none\";\n            downarrow.style.opacity = \"1\";\n            downarrow.style.pointerEvents = \"auto\";\n        }\n        else {\n            uparrow.style.opacity = \"1\";\n            uparrow.style.pointerEvents = \"auto\";\n            downarrow.style.opacity = \"1\";\n            downarrow.style.pointerEvents = \"auto\";\n        }\n\n        const container = document.getElementById('searchChatScroll')\n        const t = container.querySelectorAll(\".search-message\")\n        if (i === arrId.length - 1) {\n            t[arrPos[i]].style.backgroundColor = \"#f4f6ff17\"\n            container.scrollTop = t[arrPos[i]].offsetTop - container.offsetTop - container.clientHeight / 2;\n        }\n        else {\n\n            t[arrPos[i + 1]].style.backgroundColor = \"transparent\";\n            t[arrPos[i]].style.backgroundColor = \"#f4f6ff17\"\n            container.scrollTop = t[arrPos[i]].offsetTop - container.offsetTop - container.clientHeight / 2;\n        }\n    }\n    handleSubmit = () => {\n\n\n\n        const { receiver, id, word, updateRes, updateData , withDate , start , end} = this.context;\n\n        updateRes({ arrId: [], arrMsg: [], arrPos: [] })\n        if (!(withDate)) {\n\n          \n\n            axios.get(process.env.REACT_APP_BACKEND_URL+`api/getWord/${id}/${receiver._id}/${word.trim()}`)\n                .then(res => {\n\n                  \n                    this.i = 0;\n\n                    const hightlight = (str) => {\n                        var resdata = str.split(\" \");\n\n                        var cmp = word.trim().split(\" \");\n\n\n                        var reStr = [];\n                        for (let i = 0; i < resdata.length; i++) {\n                            for (let k = 0; k < cmp.length; k++) {\n                                if (resdata[i].length === cmp[k].length) {\n                                    let flag = true;\n                                    for (let j = 0; j < cmp[k].length; j++) {\n                                        if (resdata[i].charAt(j).toLowerCase() !== cmp[k].charAt(j).toLowerCase()) {\n                                            flag = false;\n                                        }\n\n                                    }\n                                    if (flag) {\n                                        let temp1 = `<span class=\"hightcolor-search\">${resdata[i]}</span>`\n                                        reStr.push({ str: temp1, index: i });\n                                    }\n\n                                }\n\n                                else if (resdata[i].length > cmp[k].length) {\n                                    let gflag = true;\n                                    for (let p = cmp[k].length - 1; p >= 0; p--) {\n                                        if (resdata[i].charAt(p).toLowerCase() !== cmp[k].charAt(p).toLowerCase())\n                                            gflag = false;\n                                    }\n                                    if (gflag) {\n                                        let temp2 = resdata[i].slice(0, cmp[k].length);\n                                        let temp3 = `<span class=\"hightcolor-search\">${temp2}</span>` + resdata[i].slice(cmp[k].length, resdata[i].length)\n                                        reStr.push({ str: temp3, index: i })\n                                    }\n\n                                }\n\n\n                            }\n\n\n                        }\n\n                        if (reStr.length) {\n                            for (let i = 0; i < reStr.length; i++) {\n                                resdata[reStr[i].index] = reStr[i].str;\n                            }\n                            return resdata.join(\" \");\n                        }\n\n\n                        return str;\n                    }\n\n                    if (res.data.status === \"success\") {\n\n                        updateData(false);\n                        updateRes(res.data);\n                        for (var j = 0; j < res.data.arrId.length; j++)\n\n                            document.getElementById(`${res.data.arrId[j]}`).innerHTML = hightlight(document.getElementById(`${res.data.arrId[j]}`).textContent);\n                        const uparrow = document.getElementById(\"up-arrow\");\n                        const downarrow = document.getElementById(\"down-arrow\");\n                        if (uparrow && downarrow) {\n                            uparrow.style.opacity = \"0.5\";\n                            uparrow.style.pointerEvents = \"none\";\n                            downarrow.style.opacity = \"1\";\n                            downarrow.style.pointerEvents = \"auto\";\n\n                        }\n\n                        const container = document.getElementById('searchChatScroll');\n                         if (container)\n                          {\n                            const t = container.querySelectorAll(\".search-message\");\n                            if (t) {\n                               t[res.data.arrPos[0]].style.backgroundColor = \"#f4f6ff17\"\n                               container.scrollTop = t[res.data.arrPos[0]].offsetTop - container.offsetTop - container.clientHeight / 2;\n                              \n                            }\n                        }\n\n\n\n\n                    }\n                    else {\n                        this.i = 0;\n                        updateRes({ arrId: [], arrMsg: [], arrPos: [] })\n                        updateData(true);\n                    }\n\n                    if (res.data.arrId.length === 0) {\n                        updateData(true);\n                    }\n                    else {\n                        updateData(false);\n                    }\n\n\n                })\n\n\n        }\n        else {\n\n          \n            axios.get(process.env.REACT_APP_BACKEND_URL+`api/getWord/${id}/${receiver._id}/${word}/${start}/${end}`)\n                .then(res => {\n                    this.i = 0;\n                \n\n                    const hightlight = (str) => {\n                        var resdata = str.split(\" \");\n\n                        var cmp = word.trim().split(\" \");\n\n\n                        var reStr = [];\n                        for (let i = 0; i < resdata.length; i++) {\n                            for (let k = 0; k < cmp.length; k++) {\n                                if (resdata[i].length === cmp[k].length) {\n                                    let flag = true;\n                                    for (let j = 0; j < cmp[k].length; j++) {\n                                        if (resdata[i].charAt(j).toLowerCase() !== cmp[k].charAt(j).toLowerCase()) {\n                                            flag = false;\n                                        }\n\n                                    }\n                                    if (flag) {\n                                        let temp1 = `<span class=\"hightcolor-search\">${resdata[i]}</span>`\n                                        reStr.push({ str: temp1, index: i });\n                                    }\n\n                                }\n\n                                else if (resdata[i].length > cmp[k].length) {\n                                    let gflag = true;\n                                    for (let p = cmp[k].length - 1; p >= 0; p--) {\n                                        if (resdata[i].charAt(p).toLowerCase() !== cmp[k].charAt(p).toLowerCase())\n                                            gflag = false;\n                                    }\n                                    if (gflag) {\n                                        let temp2 = resdata[i].slice(0, cmp[k].length);\n                                        let temp3 = `<span class=\"hightcolor-search\">${temp2}</span>` + resdata[i].slice(cmp[k].length, resdata[i].length)\n                                        reStr.push({ str: temp3, index: i })\n                                    }\n\n                                }\n\n\n                            }\n\n\n                        }\n\n                        if (reStr.length) {\n                            for (let i = 0; i < reStr.length; i++) {\n                                resdata[reStr[i].index] = reStr[i].str;\n                            }\n                            return resdata.join(\" \");\n                        }\n\n\n                        return str;\n                    }\n\n                    if (res.data.status === \"success\") {\n                        updateData(false);\n                        updateRes(res.data);\n\n\n                        for (var j = 0; j < res.data.arrId.length; j++)\n\n                            document.getElementById(`${res.data.arrId[j]}`).innerHTML = hightlight(document.getElementById(`${res.data.arrId[j]}`).textContent);\n                        const uparrow = document.getElementById(\"up-arrow\");\n                        const downarrow = document.getElementById(\"down-arrow\");\n                        if (uparrow && downarrow) {\n                            uparrow.style.opacity = \"0.5\";\n                            uparrow.style.pointerEvents = \"none\";\n                            downarrow.style.opacity = \"1\";\n                            downarrow.style.pointerEvents = \"auto\";\n\n                        }\n\n                        const container = document.getElementById('searchChatScroll'); if (container) {\n                            const t = container.querySelectorAll(\".search-message\");\n                            if (t) {\n                                t[res.data.arrPos[0]].style.backgroundColor = \"#f4f6ff17\"\n                                container.scrollTop = t[res.data.arrPos[0]].offsetTop - container.offsetTop - container.clientHeight / 2;\n                            }\n                        }\n\n\n\n\n                    }\n                    else {\n                        this.i = 0;\n                        updateRes({ arrId: [], arrMsg: [], arrPos: [] })\n                        updateData(true);\n                    }\n\n                    if (res.data.arrId.length === 0) {\n                        updateData(true);\n                    }\n                    else {\n                        updateData(false)\n                    }\n\n\n                })\n\n\n\n\n\n        }\n\n    }\n    handleScroll = () => {\n\n\n        this.setState({ flagdate: true })\n        const container = document.getElementById(\"searchChatScroll\");\n        let t = container.querySelectorAll(\".date-main\")\n\n        for (let i = 0; i < t.length; i++) {\n            if (t[i].offsetTop - 120 < container.scrollTop) {\n\n                this.setState({ date: t[i].textContent })\n\n            }\n        }\n\n        document.querySelector(\".date-right\").style.display = \"table\";\n\n        if (container.scrollHeight - container.scrollTop === container.offsetHeight) {\n\n\n            document.querySelector(\".date-right\").style.display = \"none\"\n\n\n        }\n        if (0 === container.scrollTop) {\n            document.querySelector(\".date-right\").style.display = \"none\"\n        }\n\n    }\n\n    backtomiddle = () => {\n\n       \n        \n       \n       \n        document.querySelector(\".middleHome\").style.display = \"flex\";\n \n  \n    \n    document.querySelector(\".rightHome\").style.display = \"none\";\n    \n\n\n\n    }\n\n    formatMaindate = (msg, lastMsg) => {\n        var msg_sent = new Date(msg.sentTime)\n\n\n        if (lastMsg == null) {\n\n            return true\n        }\n        else {\n            let lastmsg = new Date(lastMsg.sentTime)\n\n            if (lastmsg.getFullYear() === msg_sent.getFullYear() && lastmsg.getMonth() === msg_sent.getMonth() && lastmsg.getDate() === msg_sent.getDate()) {\n                return false\n            }\n            else {\n                return true\n            }\n\n        }\n    }\n\n\n    render() {\n        var lastmsg = 'null'\n\n        const { receiver, updateRight, word, handleDate, arrMsg, arrId, tog, updateTog, withDate, data , updateDate } = this.context;\n        if (tog) {\n            return (\n                <div className='rightHome' id='right' >\n\n                    <div className=\"rc-header\">\n                      \n                        <button className=\"back-button-right\" id=\"back-button-right\" onClick={this.backtomiddle}  ><FontAwesome name=\"backward\" className=\"BackwardIcon\" ></FontAwesome> </button>\n\n                    </div>\n\n\n\n\n\n                    <div className=\"contact-info\">\n                       <img src={receiver.path} alt='aaa' className='rc-img' /> \n\n                        <h4 className=\"contact-name\">{receiver.username}</h4>\n                        {receiver.status && <div className=\"contact-status\">{receiver.status}</div>}\n                      \n     \n                        <div onClick={updateTog} className=\"chat-search-button\"><span><FontAwesome\n          name=\"search\" className=\"searchIcon\"/>  </span>Chat Search</div>\n\n                    </div>\n\n                </div>\n\n\n            )\n        }\n        else {\n\n            return (\n\n                <div className='rightHome' id=\"right\" >\n                          \n                    <div class=\"search-bar-header\">\n                  \n                    <button className=\"closeButton\" onClick={updateTog}>  <FontAwesome\n          name=\"close\" className=\"closeIcon\"/></button> \n                        <div className='rc-header header-search'>\n\n                          \n                     \n\n                            <input type=\"text\" className='rc-searchBar' name=\"word\" value={word} onChange={(e) => {\n                                updateRight(e\n\n                                )\n                            }} />\n\n\n                            <button type='submit' className=\"searchbutton-rc\" onClick={this.handleSubmit}><FontAwesome\n          name=\"search\" className=\"searchIcon\"/> </button>\n                        </div>\n                        <h3 style={{display:'flex',color:\"pink\",fontSize:\"1.2em\"}}>Date Search <input style={{margin:\"0.3em\"}} type='checkbox' onClick={updateDate} /></h3>\n                       \n                        <div className=\"date-picker-section\" style={{visibility:withDate?'visible':\"hidden\"}}>\n                            \n                            <input type='date' className=\"date-picker\"  name='start' onChange={(e)=>handleDate(e.target.name,e.target.value)}  />\n                            <input type='date' className=\"date-picker\" name='end' onChange={(e)=>handleDate(e.target.name,e.target.value)}  />\n                        </div>\n\n\n\n                       \n\n                    </div>\n\n\n\n\n\n\n                    {arrMsg.length ? <div className=\"chatScroll\" id='searchChatScroll' onScroll={this.handleScroll}>\n\n\n\n\n\n                        <div className=\"outer-div\"> <p className=\"date-right\">{this.state.date}</p> </div>\n\n\n                        <ul className=\"list-none\">\n                            {\n                                arrMsg.map(m => {\n\n                                    if (m.receiverId === receiver._id) {\n                                        if (this.formatMaindate(m, lastmsg)) {\n                                            lastmsg = m;\n                                            return (\n\n                                                <li key={m.id} id=\"sendTop\" className=\"search-message\" >\n                                                \n                                                    <p className=\"date-main\">{this.formatDisplay(m)}</p>\n                                                  \n                                                    <SendMessage msgBody={m.msgBody} msgid={m.id} sentTime={m.sentTime} status={{ sent: m.sent, delivered: m.delivered, seen: m.seen }} />\n                                                </li>\n                                            )\n                                        }\n                                        else {\n                                            lastmsg = m;\n                                            return (\n\n                                                <li key={m.id} id=\"send\" className=\"search-message\">\n\n                                                    <SendMessage msgBody={m.msgBody} msgid={m.id} sentTime={m.sentTime} status={{ sent: m.sent, delivered: m.delivered, seen: m.seen }} />\n                                                </li>)\n                                        }\n\n                                    }\n\n\n                                    if (m.senderId === receiver._id) {\n\n                                        if (this.formatMaindate(m, lastmsg)) {\n                                            lastmsg = m;\n                                            return (\n\n\n\n\n                                                <li key={m.id} id=\"receiveTop\" className=\"search-message\">\n\n                                                    <p className=\"date-main\">{this.formatDisplay(m)}</p>\n                                                \n\n                                                    <ReceiveMessage msgBody={m.msgBody} msgid={m.id} sentTime={m.sentTime} />\n                                                </li>\n                                            )\n                                        }\n                                        else {\n                                            lastmsg = m;\n                                            return (<li key={m.id} id=\"receive\" className=\"search-message\">\n\n                                                <ReceiveMessage msgBody={m.msgBody} msgid={m.id} sentTime={m.sentTime} />\n                                            </li>)\n\n                                        }\n\n\n                                    }\n\n                                    return null;\n                                })}\n                        </ul>\n                    </div>\n\n                        : <div className=\"search-img\">\n                            <h3> {word.length ? data ? `\"${word}\" not found` : '' : \"Search\"}</h3>\n                            <img className=\"img-search\" alt=\"#\" src=\"./images/search--v2.png\" />\n                        </div>}\n                    {arrId.length > 1 ? <div className=\"search-bottom\">\n                        <div className=\"arrows\" id=\"down-arrow\" onClick={(e) => {\n\n                            if (arrId !== []) {\n                                if (this.i <= arrId.length - 1) {\n                                    this.i = this.i + 1;\n\n                                    this.handleCountDown(this.i)\n\n                                }\n                            }\n\n\n                        }}><img src=\"images/down-arrow-sea.png\" alt='#' className=\"downarrow\" /></div>\n\n                        <div className=\"search-no-messages \">{arrId.length} matches</div>\n\n                        <div className=\"arrows\" id=\"up-arrow\" onClick={(e) => {\n                            if (arrId !== []) {\n                                if (this.i > 0) {\n                                    this.i = this.i - 1;\n                                    this.handleCountUp(this.i)\n\n                                }\n                            }\n\n                        }}><img src=\"images/up-arrow.png\" alt='#' className=\"uparrow\" /></div>\n\n\n                    </div> : <span></span>}\n\n                </div>\n            );\n        }\n    }\n}\nexport default RightComponent;\n\n\n"]},"metadata":{},"sourceType":"module"}